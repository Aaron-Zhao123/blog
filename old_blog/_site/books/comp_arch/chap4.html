<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Aaron's Wiki by </title>

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <meta name="viewport" content="width=device-width">
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Aaron's Wiki</h1>
        <!-- <p>Hello, thanks for visiting my personal wiki.</p> -->
        <!-- <h2>Projects</h2> -->
        <p class="view"><a href="blog/index">main page</a></p>
        <p class="view"><a href="blog/projects/projects_sum.html">Projects</a></p>
        <p class="view"><a href="blog/papers/papers_index.html">Paper Reviews</a></p>
        <p class="view"><a href="blog/books/books_index.html">Book Reviews</a></p>
        <p class="view"><a href="blog/coding/coding_index.html">Coding and APIs</a></p>
        <p class="view"><a href="blog/posts/posts_index.html">Posts</a></p>
        <!-- <p class="view"><a href="/index">main page</a></p>
        <p class="view"><a href="/projects/projects_sum.html">Projects</a></p>
        <p class="view"><a href="/papers/papers_index.html">Paper Reviews</a></p>
        <p class="view"><a href="/books/books_index.html">Book Reviews</a></p>
        <p class="view"><a href="/coding/coding_index.html">Coding and APIs</a></p>
        <p class="view"><a href="/posts/posts_index.html">Posts</a></p> -->
        <!-- <p class="view"><a href="/blog/papers/nn_models/model_summary.html">Papers</a></p> -->
        <!-- <h2>Book and Code Reviews</h2> -->
        <!-- <p class="view"><a href="">Books</a></p>
        <p class="view"><a href="">Python</a></p>
        <p class="view"><a href="">C++</a></p> -->
        <!-- <h2>Contacts</h2> -->
        

        

        
      </header>
      <section>

      <h2 id="memory-hierarchy">Memory Hierarchy</h2>
<h4 id="separate-and-unified-caches">Separate and unified caches</h4>
<ul>
  <li>Separate caches allow pipelined processor to access instruction and data memory
at the same clock cycle</li>
  <li>Unified caches can dynamically adjust portions of data and instruction caches</li>
</ul>

<h4 id="block-size">Block size</h4>
<p>Divide cache into blocks to exploit spatial locality. On a cache miss,
a minimum load is one block of data, this is known as <strong>miss penalty</strong>.</p>
<ul>
  <li>Small block size: smaller miss penalty but higher miss rate</li>
  <li>
    <p>Large block size: larger miss penalty but smaller miss rate</p>
  </li>
  <li>
    <p>Direct mapped cache:
Each block has only one place to be stored in cache. Fast, simple but suffers
from conflict misses.</p>
  </li>
  <li>
    <p>Set associate cache:
n-way set associate means each set has n entries.</p>
  </li>
  <li>
    <p>Fully associate cache:
Very inefficient, need to check every entry for a miss.</p>
  </li>
  <li>CAM-tag
Minimize hit energy but around 10\% area overhead.</li>
</ul>

<h4 id="cache-misses">Cache misses</h4>
<ul>
  <li>Compulsory
First time entering the cache</li>
  <li>Capacity
Number of blocks exceeds the the capacity of the cache</li>
  <li>Conflict
Many blocks mapped to the same set, fully associative cache does not suffer from this.</li>
</ul>

<h2 id="optimizations">Optimizations</h2>
<h4 id="write-buffers">Write buffers</h4>
<ul>
  <li>Write buffer is parallel to the cache system, it hides the lower throughput of
the memory system</li>
  <li>Repeated writes can happen in the write buffer without flushing back to the
main memory</li>
  <li>On a cache read miss, we must check the write buffer does not contain the
data, otherwise you have to flush back the buffer.</li>
</ul>

<h4 id="multi-level-caches">Multi-level caches</h4>
<ul>
  <li>Reduces miss penalty</li>
  <li>L1: fasted and smallest</li>
  <li>L2, L3; minimize off-chip accessesâ€™ latency. Typically large with
associativities.</li>
</ul>

<h4 id="inclusion">Inclusion</h4>
<p>Block sizes might be different for L1 and L2.
On a cache miss, data may be replaced in L2 but remains in L1, which violates
the inclusion property.</p>

<h4 id="critical-word-first">Critical word first</h4>
<p>Allow the processor to execute on the arrival of the first required word.
The rest of the words keep filling up the block.</p>

<h4 id="victim-cache">Victim cache</h4>
<p>The victim cache (fully-associative) holds lines displaced from L1.
The processor checks both and swap data if VC hist but L1 misses.
This should remove many conflict misses.
This is different from a victim buffer, victim buffer only has <strong>dirty blocks</strong>.</p>

<h4 id="prefetching">Prefetching</h4>
<ul>
  <li>Software prefetching: prefetch early enough so the data is in cache when</li>
  <li>Hardware prefetching: prefetch on misses, one-block look ahead. The tagged
sequential prefetcher adds a tag bit and is set when a block is prefetched.
If the bit is set and a cache hit occurs, the next cacheline is also prefetched.</li>
</ul>


      </section>
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
  </body>
</html>
